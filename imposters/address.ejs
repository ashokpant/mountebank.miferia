{
    "protocol": "grpc",
    "port": 2573,
    "loglevel": "debug",
    "recordRequests": true,
    "services": {
        "miferia.rpc.address.AddressRpc": {
            "file": "src/address/address_rpc.proto"
        }
    },
    "options": {
        "protobufjs": {
            "includeDirs": [
                "/app/proto.miferia",
                "/app/proto.miferia/src"
            ]
        }
    },
    "stubs": [
        {
            "predicates": [
                {
                    "matches": {
                        "path": "internal_saveAddress"
                    },
                    "caseSensitive": false
                }
            ],
            "responses": [
                {
                    "is": {
                        "value": {
                            "error": false,
                            "success": true,
                            "address": {
                                    "addressId": "addressId",
                                    "type": "CARD",
                                    "city": "Kathmandu",
                                    "state": "Provice 3",
                                    "country": "NP",
                                    "line1": "Kathmandu-32",
                                    "zipCode": "44600",
                                    "refId": "refId",
                                    "refIdType": "card",
                                    "tag": "personal",
                                    "createdAt": "2023-01-20T13:24:22.073582301"
                            }
                        }
                    },
                    "behaviors": [
                    {
                      "decorate": "(config) => {config.response.value.address.addressId = config.request.value.address.addressId;config.response.value.address.refId = config.request.value.address.refId;}"
                    }
                  ]
                }
            ]
        },
        {
            "predicates": [
                {
                    "matches": {
                        "path": "internal_getAddress"
                    },
                    "caseSensitive": false
                }
            ],
            "responses": [
                {
                    "is": {
                        "value": {
                            "error": false,
                            "success": true,
                            "address": {
                                    "addressId": "addressId-1",
                                    "type": "CARD",
                                    "city": "Kathmandu",
                                    "state": "Provice 3",
                                    "country": "NP",
                                    "line1": "Kathmandu-32",
                                    "zipCode": "44600",
                                    "refId": "refId-1",
                                    "refIdType": "card",
                                    "tag": "personal",
                                    "createdAt": "2023-01-20T13:24:22.073582301"
                            }
                        }
                    },
                    "behaviors": [
                    {
                      "decorate": "(config) => {if (config.request.value.addressId != null && config.request.value.addressId != '') {config.response.value.address.addressId = config.request.value.addressId;}}"
                    }
                  ]
                }
            ]
        },
        {
            "predicates": [
                {
                    "matches": {
                        "path": "internal_deleteAddress"
                    },
                    "caseSensitive": false
                }
            ],
            "responses": [
                {
                    "is": {
                        "value": {
                            "error": false,
                            "success": true
                        }
                    }
                }
            ]
        }
    ],
    "callbackURLTemplate": "http://localhost:2525/imposters/:port/_requests"
}